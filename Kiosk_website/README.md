# π¥ μƒλ“μ„μΉ ν‚¤μ¤μ¤ν¬ μ‹μ¤ν…

**λ‹¨μΌ Flask μ„λ²„**λ΅ ν‚¤μ¤μ¤ν¬μ™€ μ£Όλ¬Έ κ΄€λ¦¬λ¥Ό λ¨λ‘ μ²λ¦¬ν•λ” μ‹μ¤ν….

## π€ μ‹μ¤ν… κµ¬μ„±

### ν†µν•© Flask μ„λ²„ (ν¬νΈ 6027)
- **λ©”μΈ ν‚¤μ¤μ¤ν¬**: http://localhost:6027
- **λ²„νΌ μ£Όλ¬Έ**: http://localhost:6027/button
- **μμ„± μ£Όλ¬Έ**: http://localhost:6027/voice
- **μ£Όλ¬Έ λ‚΄μ—­**: http://localhost:6027/data
- **API μ—”λ“ν¬μΈνΈ**: http://localhost:6027/api/order

ν¬νΈν¬μ›λ”© ν•΄μ„ μ™Έλ¶€ IP μ¨λ„ λ¨. λ‹¨, chromeμ—μ„ μ‹¤ν–‰ν–μ„ λ• λ³΄μ•μ„ μ„ν•΄ λ§μ΄ν¬ ν—μ©μ΄ λ§‰ν€ μλ”λ° μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ [chrome://flags/#unsafely-treat-insecure-origin-as-secure](chrome://flags/#unsafely-treat-insecure-origin-as-secure)μ—μ„ ν•΄λ‹Ή `<External IP>:<port>`λ¥Ό μ¶”κ°€ν•΄μ£Όλ©΄ λλ‹¤.

## π“‹ μ‚¬μ© λ°©λ²•

### 1. ν™κ²½ μ„¤μ • (μ„ νƒμ‚¬ν•­)
ν”„λ΅μ νΈμ—μ„ IP μ£Όμ†, ν¬νΈ λ²νΈ, Agent ID λ“±μ„ ν™κ²½ λ³€μλ΅ κ΄€λ¦¬ν•  μ μλ‹¤.
```bash
# .env νμΌ μƒμ„±
cp .env

# .env νμΌ νΈμ§‘ν•μ—¬ μ‹¤μ  κ°’ μ„¤μ •
nano .env
```

`.env` νμΌ μμ‹:
```env
# μ„λ²„ μ„¤μ •
SERVER_HOST=0.0.0.0
SERVER_PORT=<port>
SERVER_IP=<Server IP>
DEBUG=True

# Agent μ„¤μ • (ElevenLabs)
AGENT_ID=<your agent id>
```

### 2. μ„λ²„ μ‹¤ν–‰
```bash
# ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ
pip install -r requirements.txt

# ν†µν•© ν‚¤μ¤μ¤ν¬ μ„λ²„ μ‹μ‘
python3 kiosk_server.py
```

μ„λ²„κ°€ μ‹¤ν–‰λλ©΄:
- π  **λ©”μΈ ν‚¤μ¤μ¤ν¬**: http://localhost:6027
- π“ **μ£Όλ¬Έ λ‚΄μ—­ λ³΄κΈ°**: http://localhost:6027/data
- π”— **API μ—”λ“ν¬μΈνΈ**: http://localhost:6027/api/order
- π—‘οΈ **λ°μ΄ν„° μ΄κΈ°ν™”**: http://localhost:6027/api/clear

### 2. ν‚¤μ¤μ¤ν¬ μ‚¬μ©
1. μ›Ή λΈλΌμ°μ €μ—μ„ http://localhost:6027 μ ‘μ†
2. μ£Όλ¬Έ λ°©λ²• μ„ νƒ:
   - **μμ„±μΌλ΅ μ£Όλ¬Έν•κΈ°**: κ°„λ‹¨ν• μμ„± μ£Όλ¬Έ μ‹λ®¬λ μ΄μ…
   - **λ²„νΌμΌλ΅ μ£Όλ¬Έν•κΈ°**: μ²΄ν¬λ°•μ¤λ΅ μ¬λ£ μ„ νƒ
3. μ£Όλ¬Έ μ™„λ£ ν›„ μλ™μΌλ΅ μ£Όλ¬Έ λ‚΄μ—­ νμ΄μ§€κ°€ μ—΄λ¦Ό

### 3. μ£Όλ¬Έ λ‚΄μ—­ ν™•μΈ
- μ‹¤μ‹κ°„μΌλ΅ μ£Όλ¬Έ ν„ν™© ν™•μΈ
- μ΄ μ£Όλ¬Έ μ, λ§¤μ¶, μ¤λ μ£Όλ¬Έ μ ν†µκ³„
- 5μ΄λ§λ‹¤ μλ™ μƒλ΅κ³ μΉ¨
```bash
python3 order_executor.py
```
μ΄ λ¶€λ¶„μ€ μ•„μ§ κ°λ° μ¤‘μ΄κ³ , μΌλ‹¨ μ£Όλ¬Έ λ‚΄μ©μ„ λ°”νƒ•μΌλ΅ λ…λ Ήμ–΄λ¥Ό μλ™ μƒμ„±ν•λ‹¤.

## π“ νμΌ κµ¬μ΅°
```
kiosk/
β”β”€β”€ kiosk_server.py        # ν†µν•© ν‚¤μ¤μ¤ν¬ μ„λ²„ (λ©”μΈ)
β”β”€β”€ requirements.txt       # Python ν¨ν‚¤μ§€ μμ΅΄μ„±
β”β”€β”€ .gitignore            # Git λ¬΄μ‹ νμΌ λ©λ΅
β”β”€β”€ .env                  # ν™κ²½ λ³€μ μ„¤μ • μμ‹
β”β”€β”€ main.html             # λ©”μΈ ν‚¤μ¤μ¤ν¬ νμ΄μ§€
β”β”€β”€ button_order.html     # λ²„νΌ μ£Όλ¬Έ νμ΄μ§€
β”β”€β”€ voice_order.html      # μμ„± μ£Όλ¬Έ νμ΄μ§€
β”β”€β”€ complete.html         # μ£Όλ¬Έ μ™„λ£ νμ΄μ§€
β”β”€β”€ order_executor.py     # μ£Όλ¬Έ μ‹¤ν–‰κΈ° (λ³„λ„)
β””β”€β”€ README.md             # μ΄ νμΌ
```

## π― μ£Όμ” κΈ°λ¥

### ν‚¤μ¤μ¤ν¬ κΈ°λ¥
- β… μμ„± μ£Όλ¬Έ (μ‹λ®¬λ μ΄μ…)
- β… λ²„νΌ μ£Όλ¬Έ (μ²΄ν¬λ°•μ¤ μ„ νƒ)
- β… μ‹¤μ‹κ°„ μ£Όλ¬Έ μ²λ¦¬
- β… μ£Όλ¬Έ λ‚΄μ—­ μλ™ ν‘μ‹

### κ΄€λ¦¬ κΈ°λ¥
- β… μ‹¤μ‹κ°„ μ£Όλ¬Έ ν„ν™© λ€μ‹λ³΄λ“
- β… μ£Όλ¬Έ ν†µκ³„ (μ΄ μ£Όλ¬Έ μ, λ§¤μ¶, μ¤λ μ£Όλ¬Έ)
- β… μ£Όλ¬Έ λ°©λ²•λ³„ κµ¬λ¶„ (μμ„±/λ²„νΌ)
- β… μλ™ μƒλ΅κ³ μΉ¨

## π”§ κ°λ°μ μ •λ³΄

### API μ‚¬μ©λ²•
```javascript
// μ£Όλ¬Έ λ°μ΄ν„° μ „μ†΅
const orderData = {
    method: 'button', // λλ” 'voice'
    items: [
        { name: 'ν™”μ΄νΈ λΉµ', price: 3000 },
        { name: 'μ–‘μƒμ¶”', price: 500 }
    ],
    total_price: 3500
};

fetch('http://localhost:6027/api/order', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(orderData)
});
```

### μ„λ²„ λ΅κ·Έ
μ„λ²„ μ‹¤ν–‰ μ‹ μ½μ†”μ—μ„ μ‹¤μ‹κ°„ μ£Όλ¬Έ λ΅κ·Έλ¥Ό ν™•μΈν•  μ μλ‹¤:
```
π¥ ν‚¤μ¤μ¤ν¬ ν†µν•© μ„λ²„κ°€ μ‹μ‘λ©λ‹λ‹¤...
π“ λ©”μΈ ν‚¤μ¤μ¤ν¬: http://localhost:6027
π“ μ£Όλ¬Έ λ‚΄μ—­ λ³΄κΈ°: http://localhost:6027/data
π“¦ μƒ μ£Όλ¬Έ μ ‘μ: ORD1234567890
   μ£Όλ¬Έ λ°©λ²•: λ²„νΌ μ£Όλ¬Έ
   μ£Όλ¬Έ μ‹κ°„: 2025-01-16 12:34:56
```

## π€ λ°°ν¬ λ°©λ²•

### λ΅μ»¬ ν…μ¤νΈ
```bash
python3 kiosk_server.py
```

### μ™Έλ¶€ μ ‘μ†
μ„λ²„κ°€ `0.0.0.0:6027`λ΅ μ‹¤ν–‰λλ―€λ΅ κ°™μ€ λ„¤νΈμ›ν¬μ λ‹¤λ¥Έ κΈ°κΈ°μ—μ„λ„ μ ‘μ† κ°€λ¥:
- **λ΅μ»¬**: http://localhost:6027
- **μ™Έλ¶€**: http://[μ„λ²„IP]:6027

### ν”„λ΅λ•μ… λ°°ν¬
- Gunicorn + Nginx μ‚¬μ©
- λ„λ©”μΈ μ—°κ²°
- SSL μΈμ¦μ„ μ μ©